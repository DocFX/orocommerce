<% let clipLength = 30 %>
<% let oroshoppinglist = _.macros('oroshoppinglist') %>
<div class="product-item grid-line-items">
    <%= oroshoppinglist.renderProductItemImage({
        src: obj.image,
        placeholder: _metadata.image_placeholder,
        productId: productId,
        title: sku,
        alt: name,
        isConfigurable: obj.isConfigurable
    }) %>
    <div class="grid-line-items__row">
        <% if (!obj._isVariant) { %>
            <div class="grid-line-items__row-item-container">
                <% if (name.length <= clipLength) { %>
                    <%= oroshoppinglist.renderProductItemName({link: link, name: name}) %>
                <% } else {%>
                <div class="grid-line-items__clip-container">
                    <%= oroshoppinglist.renderProductItemName({clip: true, link: link, name: name}) %>
                </div>
                <% } %>
            </div>
            <div class="grid-line-items__row-item-shift mobile-row show-in-tablet">
                <span>
                    <%- _.__('oro.frontend.shoppinglist.label') %>:
                    <span class="highlighted-in-mobile"><%- sku %></span>
                </span>
                <% if (!isConfigurable) { %>
                    <%= oroshoppinglist.renderInventoryStatus(inventoryStatus) %>
                <% } %>
            </div>
            <% if (productConfiguration) { %>
            <div class="grid-line-items__row-item-shift grid-line-items__configuration">
                <% _.each(productConfiguration, function(field) { %>
                <div class="grid-line-items__field">
                    <span class="grid-line-items__field-val"><%- field.label %>:</span>
                    <span class="grid-line-items__field-val bold"><%- field.value %></span>
                </div>
                <% }) %>
            </div>
            <% } %>
            <% if (note) { %>
            <div class="grid-line-items__row-item-shift">
                <%= oroshoppinglist.renderNote({note: note}) %>
            </div>
            <% } %>
        <% } else { %>
            <div class="grid-line-items__row-item-container mobile-row show-in-tablet">
                <span>
                    <%- _.__('oro.frontend.shoppinglist.label') %>:
                    <span class="highlighted-in-mobile"><%- sku %></span>
                </span>
                <%= oroshoppinglist.renderInventoryStatus(inventoryStatus) %>
            </div>
            <div class="grid-line-items__row-item-shift grid-line-items__configuration">
                <% _.each(productConfiguration, function(field) { %>
                <div class="grid-line-items__field">
                    <span class="grid-line-items__field-val"><%- field.label %>:</span>
                    <span class="grid-line-items__field-val bold"><%- field.value %></span>
                </div>
                <% }) %>
            </div>
            <% if (note) { %>
            <div class="grid-line-items__row-item-shift">
                <%= oroshoppinglist.renderNote({note: note}) %>
            </div>
            <% } %>
        <% } %>
    </div>
</div>

<% if (isUpcoming || obj.errors && errors.length) { %>
<div class="notification-container">
    <%= oroshoppinglist.renderUpcoming({isUpcoming: isUpcoming, availabilityDate: obj.availabilityDate}) %>
    <%= oroshoppinglist.renderErrors({errors: errors}) %>
</div>
<% } %>

<% if (obj.filteredOutData) { %>
    <%= oroshoppinglist.renderMoreVariantsButton(filteredOutData) %>
<% } %>
